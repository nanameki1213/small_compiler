		.cpu		300HA
		.section	A,code,locate=H'000000
		.data.l		reset
		.section	B,code,locate=H'000100
reset:		mov.l		#H'FFFF10,ER7
		bra		main
func		.equ		$
		push.l		ER6
		mov.l		ER7,ER6
		push.l		ER5
		push.l		ER4
		push.l		ER3
		push.l		ER2
		push.l		ER1
		push.l		ER0
		sub.l		#4,ER7
		mov.l		@(16,ER6),ER0
		mov.l		@(12,ER6),ER1
		add.l		ER1,ER0
		mov.l		ER0,@(-28,ER6)
		mov.l		@(-28,ER6),ER0
		mov.l		ER0,@(8,ER6)
		bra		L0000
L0000		.equ		$
		add.l		#4,ER7
		pop.l		ER0
		pop.l		ER1
		pop.l		ER2
		pop.l		ER3
		pop.l		ER4
		pop.l		ER5
		pop.l		ER6
		rts		
main		.equ		$
		mov.l		@L0001,ER0
		mov.l		@L0002,ER1
		mov.l		@L0003,ER2
		push.l		ER2
		bsr		func
		pop.l		ER2
		mov.l		ER2,@A
		bra		$
		.align		2
L0001		.data.l		H'0000000A
L0002		.data.l		H'00000014
L0003		.data.l		H'00000000
		.section	C,data,locate=H'FFBF20
		.align		2
A		.res.l		1
		.end
